<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/app/tabs/dashboard"></ion-back-button>
    </ion-buttons>
    <ion-title>Allowed Cars</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid fixed >

    <ion-row>
      <ion-col size="12">
        <ion-item>
          <ion-input [(ngModel)]="plateNumber" placeholder="{{placeholder}}"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label>From</ion-label>
          <ion-datetime displayFormat="D MMM YYYY H:mm" min="2018" max="2020" value="{{now}}" (ionChange)="changeNow($event)" [disabled]="isChecked"></ion-datetime>
        </ion-item>
        <ion-item>
          <ion-label>To</ion-label>
          <ion-datetime displayFormat="D MMM YYYY H:mm" min="2018" max="2020" value="{{tomorrow}}" (ionChange)="changeTomorrow($event)" [disabled]="isChecked"></ion-datetime>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row class="ion-no-padding ion-justify-content-center">
      <ion-col size="9">
        <ion-item >
          <ion-label>Unlimited access</ion-label>
          <ion-checkbox slot="end" [(ngModel)]="isChecked"></ion-checkbox>
        </ion-item>
      </ion-col>
      <ion-col size="3" class="ion-text-right">
        <ion-button color="primary" (click)="addLicensePlate()">
          <ion-icon name="add"></ion-icon>
        </ion-button>
      </ion-col>
    </ion-row>

    <ion-item-divider>
      <ion-col size="12" class="ion-text-center">
        <ion-label>Allowed Plates:</ion-label>
      </ion-col>
    </ion-item-divider>

    <ion-row *ngFor="let plate of platesSubject | async">
      <ion-col size="9">
        <ion-item>{{plate.number}}</ion-item>
      </ion-col>
      <ion-col size="3" class="ion-text-right">
        <ion-button color="danger" (click)="removePlate(plate.number)">
          <ion-icon name="remove"></ion-icon>
        </ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>

</ion-content>


